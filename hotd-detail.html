<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>House of the Dragon - StreamHub</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="detail-styles.css">
</head>
<body>
    <!-- Header (same as main page) -->
    <header>
        <div class="header-container">
            <a href="index.html" class="logo">Stream<span>Hub</span></a>
            
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="#">Movies</a></li>
                    <li><a href="#" class="active">TV Shows</a></li>
                    <li><a href="#">New & Popular</a></li>
                    <li><a href="#">My List</a></li>
                </ul>
            </nav>
            
            <div class="nav-right">
                <div class="search">
                    <input type="text" placeholder="Search...">
                    <i>üîç</i>
                </div>
                <div class="user-profile">
                    <img src="/api/placeholder/32/32" alt="Profile">
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="detail-content">
        <!-- Series Info Section -->
        <section class="series-info-container">
            <div class="series-poster">
                <img src="https://s.to/public/img/cover/house-of-the-dragon-stream-cover-kMWFFbMXzuL0fM6Jpq4BXQNA6duokG3q_220x330.jpg" alt="House of the Dragon">
            </div>
            
            <div class="series-description">
                <h1>House of the Dragon</h1>
                <div class="series-meta">
                    <span class="year">2022-Present</span>
                    <span class="dot">‚Ä¢</span>
                    <span class="rating">TV-MA</span>
                    <span class="dot">‚Ä¢</span>
                    <span class="seasons">2 Seasons</span>
                    <span class="dot">‚Ä¢</span>
                    <span class="genre">Fantasy, Drama, Action</span>
                </div>
                <p class="synopsis">
                    The reign of House Targaryen begins with this prequel to the popular HBO series Game of Thrones. Based on George R.R. Martin's "Fire & Blood," House of the Dragon is set 200 years before the events of Game of Thrones and tells the story of House Targaryen. The series explores the events that led to the devastating war of succession, known as the Dance of the Dragons, which began the downfall of House Targaryen.
                </p>
                <div class="cast">
                    <h3>Cast:</h3>
                    <p>Matt Smith, Emma D'Arcy, Olivia Cooke, Paddy Considine, Rhys Ifans, Steve Toussaint, Eve Best</p>
                </div>
                <div class="creators">
                    <h3>Creators:</h3>
                    <p>Ryan Condal, George R.R. Martin</p>
                </div>
            </div>
            
            <div class="series-actions">
                <button class="action-btn subscribe-btn">
                    <i class="icon">üîî</i>
                    Subscribe to Series
                </button>
                <button class="action-btn watchlist-btn">
                    <i class="icon">‚ûï</i>
                    Add to Watchlist
                </button>
                <button class="action-btn trailer-btn">
                    <i class="icon">‚ñ∂</i>
                    Watch Trailer
                </button>
                <div class="rating-container">
                    <h3>Rate this:</h3>
                    <div class="star-rating">
                        <span class="star" data-rating="1">‚òÖ</span>
                        <span class="star" data-rating="2">‚òÖ</span>
                        <span class="star" data-rating="3">‚òÖ</span>
                        <span class="star" data-rating="4">‚òÖ</span>
                        <span class="star" data-rating="5">‚òÖ</span>
                        <span class="star" data-rating="6">‚òÖ</span>
                        <span class="star" data-rating="7">‚òÖ</span>
                        <span class="star" data-rating="8">‚òÖ</span>
                        <span class="star" data-rating="9">‚òÖ</span>
                        <span class="star" data-rating="10">‚òÖ</span>
                    </div>
                    <div class="avg-rating">
                        Average: <span>8.5</span>/10
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Seasons & Episodes Section -->
        <section class="episodes-section">
            <div class="seasons-selector">
                <h2>Seasons</h2>
                <div class="season-boxes">
                    <div class="season-box active" data-season="1">1</div>
                    <div class="season-box" data-season="2">2</div>
                </div>
            </div>
            
            <div class="episodes-container">
                <h2>Episodes - Season 1</h2>
                
                <div class="episodes-list" id="season1-episodes">
                    <!-- Episode 1 -->
                    <div class="episode-item" data-episode="1">
                        <div class="episode-thumbnail">
                            <img src="/api/placeholder/160/90" alt="Episode 1">
                            <div class="play-overlay">
                                <div class="play-icon">‚ñ∂</div>
                            </div>
                        </div>
                        <div class="episode-details">
                            <div class="episode-number">Episode 1</div>
                            <div class="episode-title">"The Heirs of the Dragon"</div>
                            <div class="episode-duration">66 min</div>
                            <div class="episode-info">Aired: Aug 21, 2022</div>
                            <div class="episode-description">
                                Viserys hosts a tournament to celebrate the birth of his second child. Rhaenyra welcomes her uncle Daemon back to the Red Keep.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Episode 2 -->
                    <div class="episode-item" data-episode="2">
                        <div class="episode-thumbnail">
                            <img src="/api/placeholder/160/90" alt="Episode 2">
                            <div class="play-overlay">
                                <div class="play-icon">‚ñ∂</div>
                            </div>
                        </div>
                        <div class="episode-details">
                            <div class="episode-number">Episode 2</div>
                            <div class="episode-title">"The Rogue Prince"</div>
                            <div class="episode-duration">54 min</div>
                            <div class="episode-info">Aired: Aug 28, 2022</div>
                            <div class="episode-description">
                                Rhaenyra oversteps at the Small Council. Viserys is urged to secure the succession through marriage. Daemon announces his intentions.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Episode 3 -->
                    <div class="episode-item" data-episode="3">
                        <div class="episode-thumbnail">
                            <img src="/api/placeholder/160/90" alt="Episode 3">
                            <div class="play-overlay">
                                <div class="play-icon">‚ñ∂</div>
                            </div>
                        </div>
                        <div class="episode-details">
                            <div class="episode-number">Episode 3</div>
                            <div class="episode-title">"Second of His Name"</div>
                            <div class="episode-duration">58 min</div>
                            <div class="episode-info">Aired: Sep 4, 2022</div>
                            <div class="episode-description">
                                Daemon and the Sea Snake battle the Crabfeeder. The realm celebrates Aegon's second nameday. Rhaenyra faces the prospect of marriage.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Additional episodes for Season 1 -->
                    <!-- Episodes 4-10 would be here -->
                </div>
                
                <div class="episodes-list hidden" id="season2-episodes">
                    <!-- Episode 1 -->
                    <div class="episode-item" data-episode="1">
                        <div class="episode-thumbnail">
                            <img src="/api/placeholder/160/90" alt="Episode 1">
                            <div class="play-overlay">
                                <div class="play-icon">‚ñ∂</div>
                            </div>
                        </div>
                        <div class="episode-details">
                            <div class="episode-number">Episode 1</div>
                            <div class="episode-title">"A Son for a Son"</div>
                            <div class="episode-duration">59 min</div>
                            <div class="episode-info">Aired: Jun 16, 2024</div>
                            <div class="episode-description">
                                As Alicent grows concerned by Aegon's Small Council, Rhaenyra arrives at a fateful decision.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Episode 2 -->
                    <div class="episode-item" data-episode="2">
                        <div class="episode-thumbnail">
                            <img src="/api/placeholder/160/90" alt="Episode 2">
                            <div class="play-overlay">
                                <div class="play-icon">‚ñ∂</div>
                            </div>
                        </div>
                        <div class="episode-details">
                            <div class="episode-number">Episode 2</div>
                            <div class="episode-title">"Rhaenyra the Cruel"</div>
                            <div class="episode-duration">58 min</div>
                            <div class="episode-info">Aired: Jun 23, 2024</div>
                            <div class="episode-description">
                                As Otto schemes to turn the public against her, Rhaenyra questions Daemon's loyalty. Meanwhile, Ser Criston Cole concocts a misguided plan for revenge.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Additional episodes for Season 2 -->
                    <!-- Episodes 3-8 would be here -->
                </div>
            </div>
        </section>
        
        <!-- Video Player Modal -->
        <div class="video-modal" id="videoModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalTitle">House of the Dragon - S1:E1 The Heirs of the Dragon</h3>
                    <span class="close-modal">&times;</span>
                </div>
                <div class="video-container">
                    <!-- Video player/iframe will be inserted here by JavaScript -->
                    <div class="video-placeholder">
                        <div class="play-button">‚ñ∂</div>
                        <p>Select an episode to watch</p>
                    </div>
                </div>
                <div class="player-controls">
                    <div class="language-selection">
                        <span>Language: </span>
                        <button class="language-btn active" id="langGerman" title="German Audio">
                            <img src="https://flagcdn.com/24x18/de.png" alt="German" class="flag-icon">
                        </button>
                        <button class="language-btn" id="langEnglish" title="English Audio">
                            <img src="https://flagcdn.com/24x18/us.png" alt="English" class="flag-icon">
                        </button>
                    </div>
                    <div class="player-info">
                        <span>Source: voe.sx</span>
                        <select class="quality-selector">
                            <option value="auto">Auto Quality</option>
                            <option value="1080p">1080p</option>
                            <option value="720p">720p</option>
                            <option value="480p">480p</option>
                            <option value="360p">360p</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>StreamHub</h3>
                <p>The best streaming platform for movies and TV shows. Watch anywhere, anytime.</p>
                <div class="social-icons">
                    <a href="#"><span>f</span></a>
                    <a href="#"><span>t</span></a>
                    <a href="#"><span>in</span></a>
                    <a href="#"><span>ig</span></a>
                </div>
            </div>
            
            <div class="footer-column">
                <h3>Navigation</h3>
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Movies</a></li>
                    <li><a href="#">TV Shows</a></li>
                    <li><a href="#">New & Popular</a></li>
                    <li><a href="#">My List</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Categories</h3>
                <ul>
                    <li><a href="#">Action</a></li>
                    <li><a href="#">Comedy</a></li>
                    <li><a href="#">Drama</a></li>
                    <li><a href="#">Sci-Fi</a></li>
                    <li><a href="#">Horror</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Support</h3>
                <ul>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Help Center</a></li>
                    <li><a href="#">Account</a></li>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                </ul>
            </div>
        </div>
        
        <div class="copyright">
            <p>&copy; 2025 StreamHub. All rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <!-- Integrated JavaScript (formerly hotd-script.js) -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Episode video URLs for Season 1 (with the proper embed format)
        const season1Videos = {
            "1": "https://voe.sx/e/kdvotcvctcwm", // The Heirs of the Dragon
            "2": "https://voe.sx/e/zrup5qctfsst", // The Rogue Prince
            "3": "https://voe.sx/e/xial24jzougk", // Second of His Name
            "4": "https://voe.sx/e/852wpyyjqxbo", // King of the Narrow Sea
            "5": "https://voe.sx/e/vxuhdvronyne", // We Light the Way
            "6": "https://voe.sx/e/xido7ssfnpbz", // The Princess and the Queen
            "7": "https://voe.sx/e/uw62a1obhayu", // Driftmark
            "8": "https://voe.sx/e/b2v41noyhkoa", // The Lord of the Tides
            "9": "https://voe.sx/e/egpjrkl18p1x", // The Green Council
            "10": "https://voe.sx/e/odsiephn1xad" // The Black Queen
        };
        
        // Episode video URLs for Season 2 (with the proper embed format)
        const season2Videos = {
            "1": "https://voe.sx/e/brvswpf86wyo", // A Son for a Son
            "2": "https://voe.sx/e/4ogcthhyd2e3", // Rhaenyra the Cruel
            "3": "https://voe.sx/e/8mrrjnrfpeu6", // The Burning Mill
            "4": "https://voe.sx/e/vuyncc3rulsf", // The Red Dragon and the Gold
            "5": "https://voe.sx/e/yus2qbyzshaa", // Regent
            "6": "https://voe.sx/e/tfnnthgoiy6g", // Smallfolk
            "7": "https://voe.sx/e/znagqqidvbup", // The Red Sowing
            "8": "https://voe.sx/e/ulzgmild1qou"  // The Queen Who Ever Was
        };
        
        // Placeholder for English version videos (to be filled later)
        const season1VideosEng = {};
        const season2VideosEng = {};
        
        // Single thumbnail for all episodes
        const seriesThumbnail = "https://s.to/public/img/cover/house-of-the-dragon-stream-cover-kMWFFbMXzuL0fM6Jpq4BXQNA6duokG3q_220x330.jpg";
        
        // Seasons selector functionality
        const seasonBoxes = document.querySelectorAll('.season-box');
        const episodesTitle = document.querySelector('.episodes-container h2');
        const episodesLists = {
            season1: document.getElementById('season1-episodes'),
            season2: document.getElementById('season2-episodes')
        };
        
        // Set the same thumbnail for all episodes
        document.querySelectorAll('.episode-item .episode-thumbnail img').forEach(img => {
            img.src = seriesThumbnail;
            img.alt = "House of the Dragon";
            // Adjust the image display to show properly in the thumbnail container
            img.style.objectPosition = "top center";
        });
        
        // Current playing episode tracking
        let currentSeason = "1";
        let currentEpisode = "1";
        let currentLanguage = "de"; // Default language is German
        
        seasonBoxes.forEach(box => {
            box.addEventListener('click', () => {
                // Remove active class from all boxes
                seasonBoxes.forEach(b => b.classList.remove('active'));
                
                // Add active class to clicked box
                box.classList.add('active');
                
                // Update episodes title
                const seasonNumber = box.dataset.season;
                episodesTitle.textContent = `Episodes - Season ${seasonNumber}`;
                
                // Hide all episodes lists
                Object.values(episodesLists).forEach(list => {
                    list.classList.add('hidden');
                });
                
                // Show the selected season's episodes
                episodesLists[`season${seasonNumber}`].classList.remove('hidden');
                
                // Update current season
                currentSeason = seasonNumber;
                
                console.log(`Viewing episodes for Season ${seasonNumber}`);
            });
        });
        
        // Video player related elements
        const videoModal = document.getElementById('videoModal');
        const modalTitle = document.getElementById('modalTitle');
        const videoContainer = document.querySelector('.video-container');
        const closeModal = document.querySelector('.close-modal');
        
        // Episode click handler - Open video modal
        const episodeItems = document.querySelectorAll('.episode-item');
        
        episodeItems.forEach(episode => {
            episode.addEventListener('click', () => {
                // Update tracking variables
                currentSeason = document.querySelector('.season-box.active').dataset.season;
                currentEpisode = episode.dataset.episode;
                
                loadAndPlayEpisode(currentSeason, currentEpisode, currentLanguage);
            });
        });
        
        // Function to load and play an episode with language selection
        function loadAndPlayEpisode(season, episode, language) {
            const episodeItem = document.querySelector(`.episode-item[data-episode="${episode}"]`);
            if (!episodeItem) return;
            
            const episodeTitle = episodeItem.querySelector('.episode-title').textContent;
            
            // Set the modal title with language indicator
            const langText = language === 'de' ? 'German' : 'English';
            modalTitle.textContent = `House of the Dragon - S${season}:E${episode} ${episodeTitle} (${langText})`;
            
            // Get the correct video source based on season and language
            let videoSrc = null;
            
            if (language === 'de') {
                // German version
                if (season === '1' && season1Videos[episode]) {
                    videoSrc = season1Videos[episode];
                } else if (season === '2' && season2Videos[episode]) {
                    videoSrc = season2Videos[episode];
                }
            } else {
                // English version (placeholder for now)
                if (season === '1' && season1VideosEng[episode]) {
                    videoSrc = season1VideosEng[episode];
                } else if (season === '2' && season2VideosEng[episode]) {
                    videoSrc = season2VideosEng[episode];
                }
            }
            
            // Create video player if video source is available
            if (videoSrc) {
                // Clear previous content
                videoContainer.innerHTML = '';
                
                // Create and append the iframe
                const iframe = document.createElement('iframe');
                iframe.src = videoSrc;
                iframe.width = '100%';
                iframe.height = '100%';
                iframe.style.position = 'absolute';
                iframe.style.top = '0';
                iframe.style.left = '0';
                iframe.frameBorder = '0';
                iframe.scrolling = 'no';
                iframe.allowFullscreen = true;
                
                videoContainer.appendChild(iframe);
            } else {
                // Show placeholder message (especially for English version not yet available)
                videoContainer.innerHTML = `
                    <div class="video-placeholder">
                        <div class="play-button">‚ñ∂</div>
                        <p>${language === 'en' ? 'English version coming soon' : 'Video not available for this episode'}</p>
                    </div>
                `;
            }
            
            // Show the modal
            videoModal.style.display = 'flex';
            
            console.log(`Playing Season ${season}, Episode ${episode} in ${language}`);
        }
        
        // Language selection handlers
        document.getElementById('langGerman').addEventListener('click', function(e) {
            e.stopPropagation(); // Prevent event bubbling
            currentLanguage = 'de';
            
            // Update active state of language buttons
            document.getElementById('langEnglish').classList.remove('active');
            this.classList.add('active');
            
            loadAndPlayEpisode(currentSeason, currentEpisode, currentLanguage);
        });
        
        document.getElementById('langEnglish').addEventListener('click', function(e) {
            e.stopPropagation(); // Prevent event bubbling
            currentLanguage = 'en';
            
            // Update active state of language buttons
            document.getElementById('langGerman').classList.remove('active');
            this.classList.add('active');
            
            loadAndPlayEpisode(currentSeason, currentEpisode, currentLanguage);
        });
        
        // Close modal when clicking the X
        closeModal.addEventListener('click', () => {
            videoModal.style.display = 'none';
            // Stop any playing videos by clearing the container
            videoContainer.innerHTML = '';
        });
        
        // Close modal when clicking outside the content
        videoModal.addEventListener('click', (e) => {
            if (e.target === videoModal) {
                videoModal.style.display = 'none';
                // Stop any playing videos by clearing the container
                videoContainer.innerHTML = '';
            }
        });
        
        // Star rating functionality
        const stars = document.querySelectorAll('.star');
        
        stars.forEach(star => {
            star.addEventListener('click', () => {
                const rating = parseInt(star.dataset.rating);
                
                // Clear all active stars
                stars.forEach(s => s.classList.remove('active'));
                
                // Set active stars up to the clicked one
                stars.forEach(s => {
                    if (parseInt(s.dataset.rating) <= rating) {
                        s.classList.add('active');
                    }
                });
                
                console.log(`User rated the series ${rating}/10`);
            });
        });
        
        // Action buttons functionality
        const subscribeBtn = document.querySelector('.subscribe-btn');
        const watchlistBtn = document.querySelector('.watchlist-btn');
        const trailerBtn = document.querySelector('.trailer-btn');
        
        subscribeBtn.addEventListener('click', () => {
            // Toggle subscribe status
            const isSubscribed = subscribeBtn.classList.toggle('subscribed');
            
            if (isSubscribed) {
                subscribeBtn.innerHTML = '<i class="icon">‚úì</i> Subscribed';
                subscribeBtn.style.backgroundColor = '#388E3C';
            } else {
                subscribeBtn.innerHTML = '<i class="icon">üîî</i> Subscribe to Series';
                subscribeBtn.style.backgroundColor = '#4CAF50';
            }
            
            console.log(`User ${isSubscribed ? 'subscribed to' : 'unsubscribed from'} the series`);
        });
        
        watchlistBtn.addEventListener('click', () => {
            // Toggle watchlist status
            const isInWatchlist = watchlistBtn.classList.toggle('in-watchlist');
            
            if (isInWatchlist) {
                watchlistBtn.innerHTML = '<i class="icon">‚úì</i> In Watchlist';
                watchlistBtn.style.backgroundColor = '#1565C0';
            } else {
                watchlistBtn.innerHTML = '<i class="icon">‚ûï</i> Add to Watchlist';
                watchlistBtn.style.backgroundColor = '#2196F3';
            }
            
            console.log(`User ${isInWatchlist ? 'added series to' : 'removed series from'} watchlist`);
        });
        
        trailerBtn.addEventListener('click', () => {
            // Open the video modal with the trailer
            modalTitle.textContent = 'House of the Dragon - Official Trailer';
            
            // Use the official trailer embed URL
            videoContainer.innerHTML = '';
            
            const trailerIframe = document.createElement('iframe');
            trailerIframe.src = "https://www.youtube.com/embed/DotnJ7tTA34"; // Official House of the Dragon trailer
            trailerIframe.width = '100%';
            trailerIframe.height = '100%';
            trailerIframe.style.position = 'absolute';
            trailerIframe.style.top = '0';
            trailerIframe.style.left = '0';
            trailerIframe.frameBorder = '0';
            trailerIframe.allowFullscreen = true;
            
            videoContainer.appendChild(trailerIframe);
            
            videoModal.style.display = 'flex';
            console.log('Playing series trailer');
        });
        
        // Quality selector (for demonstration - would need real implementation)
        const qualitySelector = document.querySelector('.quality-selector');
        qualitySelector.addEventListener('change', function() {
            console.log(`Quality changed to: ${this.value}`);
            // In a real implementation, this would change the video quality
        });
    });
    </script>
</body>
</html>
