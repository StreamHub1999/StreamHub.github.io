<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Titanic - StreamHub</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Movie Detail Page Specific Styles */
        .movie-detail-container {
            display: flex;
            flex-direction: column;
            padding: 0;
            background-color: var(--background-darker);
            color: var(--text-primary);
        }

        .movie-hero {
            position: relative;
            height: 70vh;
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: flex-end;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                0deg,
                rgba(0, 0, 0, 1) 0%,
                rgba(0, 0, 0, 0.8) 25%,
                rgba(0, 0, 0, 0.4) 50%,
                rgba(0, 0, 0, 0.1) 100%
            );
            z-index: 1;
        }

        .movie-info {
            display: flex;
            padding: 30px 5%;
            gap: 30px;
            position: relative;
            z-index: 2;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .movie-poster {
            flex-shrink: 0;
            width: 300px;
            height: 450px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        .movie-poster img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .movie-details {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .movie-title {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: white;
        }

        .movie-meta {
            display: flex;
            gap: 15px;
            color: var(--text-secondary);
            margin-bottom: 20px;
            font-size: 1rem;
            flex-wrap: wrap;
        }

        .movie-meta span {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .movie-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--text-primary);
            margin-bottom: 20px;
        }

        .movie-rating i {
            color: var(--primary-color);
        }

        .movie-description {
            line-height: 1.6;
            margin-bottom: 25px;
            font-size: 1.1rem;
            color: var(--text-primary);
        }

        .movie-actions {
            display: flex;
            gap: 15px;
            margin-top: auto;
            flex-wrap: wrap;
        }

        .large-btn {
            padding: 12px 25px;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .watch-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
        }

        .watch-btn:hover {
            background-color: var(--secondary-color);
        }

        .trailer-btn {
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .trailer-btn:hover {
            background-color: rgba(255, 255, 255, 0.15);
        }

        .add-list-btn {
            background-color: transparent;
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .add-list-btn:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .movie-content {
            padding: 30px 5%;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
        }

        .info-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }

        .info-value {
            font-size: 1rem;
            color: var(--text-primary);
        }

        .cast-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .cast-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .cast-card:hover {
            transform: translateY(-5px);
        }

        .cast-img {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .cast-info {
            padding: 10px;
        }

        .cast-name {
            font-size: 0.9rem;
            margin-bottom: 5px;
            color: var(--text-primary);
        }

        .cast-role {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .player-section {
            margin-bottom: 40px;
        }

        .player-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 ratio */
            height: 0;
            overflow: hidden;
            border-radius: 10px;
        }

        .player-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .similar-movies {
            margin-bottom: 40px;
        }

        .similar-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
        }

        /* Video Player Modal */
        .video-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            width: 80%;
            max-width: 1000px;
            background-color: var(--background-darker);
            border-radius: 6px;
            overflow: hidden;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background-color: var(--background-light);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .modal-header h3 {
            margin: 0;
            color: var(--text-primary);
        }

        .close-modal {
            color: var(--text-secondary);
            font-size: 24px;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-modal:hover {
            color: var(--text-primary);
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 ratio */
            height: 0;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .video-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: rgba(0,0,0,0.8);
            color: var(--text-primary);
        }

        .play-button {
            font-size: 48px;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .player-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background-color: var(--background-light);
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .language-selection {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .language-btn {
            background: none;
            border: 1px solid transparent;
            padding: 5px;
            border-radius: 4px;
            cursor: pointer;
            opacity: 0.6;
            transition: all 0.3s ease;
        }

        .language-btn.active {
            opacity: 1;
            border-color: var(--primary-color);
        }

        .flag-icon {
            width: 24px;
            height: 18px;
            border-radius: 2px;
        }

        .player-info {
            display: flex;
            align-items: center;
            gap: 15px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .quality-selector {
            background-color: var(--background-darker);
            color: var(--text-primary);
            border: 1px solid rgba(255,255,255,0.2);
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.9rem;
            cursor: pointer;
        }

        /* Star rating functionality */
        .star-rating {
            display: flex;
            gap: 5px;
            margin-top: 5px;
        }

        .star-rating .star {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .star-rating .star:hover,
        .star-rating .star.active {
            color: var(--primary-color);
        }

        /* Responsive Adjustments */
        @media (max-width: 992px) {
            .movie-info {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .movie-poster {
                margin-bottom: 20px;
            }

            .movie-actions {
                justify-content: center;
            }
        }

        @media (max-width: 768px) {
            .movie-hero {
                height: 50vh;
            }

            .movie-title {
                font-size: 2rem;
            }

            .info-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .cast-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .similar-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <a href="index.html" class="logo">Stream<span>Hub</span></a>
            
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="movies.html" class="active">Movies</a></li>
                    <li><a href="tvshows.html">TV Shows</a></li>
                    <li><a href="arabic-series.html">Arabic Series</a></li>
                    <li><a href="#">Arabic Movies</a></li>
                </ul>
            </nav>
            
            <div class="nav-right">
                <div class="search">
                    <input type="text" id="searchInput" placeholder="Search...">
                    <i>🔍</i>
                    <div class="search-results" id="searchResults"></div>
                </div>
                <div class="auth-buttons">
                    <a href="login-page.html" class="btn-small btn-login">Login</a>
                    <a href="simplified-register-page.html" class="btn-small btn-signup">Sign Up</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Movie Detail Container -->
    <div class="movie-detail-container">
        <!-- Movie Hero Section -->
        <div class="movie-hero" style="background-image: url('https://cdn.kinocheck.com/i/su2fj7r455.jpg');">
            <div class="hero-overlay"></div>
            <div class="movie-info">
                <div class="movie-poster">
                    <img src="https://cdn.kinocheck.com/i/su2fj7r455.jpg" alt="Titanic Movie Poster">
                </div>
                <div class="movie-details">
                    <h1 class="movie-title">Titanic</h1>
                    <div class="movie-meta">
                        <span>Thriller, Suspense, Drama</span>
                        <span>•</span>
                        <span>2022</span>
                        <span>•</span>
                        <span>2h 12m</span>
                        <span>•</span>
                        <span>R</span>
                    </div>
                    <div class="movie-rating">
                        <i>★</i> <strong>8.5</strong>/10 <span style="margin-left: 10px; font-size: 0.9rem; color: var(--text-secondary);">(1.8k reviews)</span>
                    </div>
                    <p class="movie-description">
                        In "Titanic," a seemingly ordinary evening turns into a nightmare when a group of friends decide to spend the night in an abandoned mansion with a dark history. What begins as a fun adventure quickly spirals into terror as they discover they're not alone.
                    </p>
                    <p class="movie-description">
                        As the night progresses, tensions rise and secrets emerge, testing the bonds between the friends. When strange occurrences begin happening around them, they must work together to survive until dawn, facing both supernatural threats and the darkness within themselves.
                    </p>
                    <div class="movie-actions">
                        <button class="large-btn watch-btn" id="playMovie"><i>▶</i> Watch Now</button>
                        <button class="large-btn trailer-btn"><i>🎬</i> Watch Trailer</button>
                        <button class="large-btn add-list-btn" id="watchlistBtn"><i>+</i> Add to Watchlist</button>
                        <div class="language-selection" style="margin-left: auto;">
                            <span style="color: var(--text-secondary);">Language: </span>
                            <button class="language-btn active" id="langEnglish" title="English Audio">
                                <img src="https://flagcdn.com/24x18/us.png" alt="English" class="flag-icon">
                            </button>
                            <button class="language-btn" id="langGerman" title="German Audio">
                                <img src="https://flagcdn.com/24x18/de.png" alt="German" class="flag-icon">
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Movie Content Section -->
        <div class="movie-content">
            <!-- Player Section -->
            <div class="player-section" id="player">
                <h2 class="section-title">Watch Titanic
                    <select class="quality-selector" id="qualitySelector">
                        <option value="auto">Auto Quality</option>
                        <option value="1080p">1080p</option>
                        <option value="720p">720p</option>
                        <option value="480p">480p</option>
                        <option value="360p">360p</option>
                    </select>
                </h2>
                <div class="player-container">
                    <iframe id="movieIframe" src="https://voe.sx/e/kjtgkbvbeqkw" allowfullscreen></iframe>
                </div>
            </div>

            <!-- Movie Details Section -->
            <div class="movie-details-info">
                <h2 class="section-title">Movie Details</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">Director</div>
                        <div class="info-value">Emma Rodriguez</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Writers</div>
                        <div class="info-value">Thomas Wright, Lucia Chen, Daniel Morgan</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Release Date</div>
                        <div class="info-value">October 31, 2022</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Language</div>
                        <div class="info-value">English, German</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Production</div>
                        <div class="info-value">Eclipse Pictures</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Content Rating</div>
                        <div class="info-value">R</div>
                    </div>
                </div>
                
                <div class="rating-container">
                    <h3>Rate this:</h3>
                    <div class="star-rating">
                        <span class="star" data-rating="1">★</span>
                        <span class="star" data-rating="2">★</span>
                        <span class="star" data-rating="3">★</span>
                        <span class="star" data-rating="4">★</span>
                        <span class="star" data-rating="5">★</span>
                        <span class="star" data-rating="6">★</span>
                        <span class="star" data-rating="7">★</span>
                        <span class="star" data-rating="8">★</span>
                        <span class="star" data-rating="9">★</span>
                        <span class="star" data-rating="10">★</span>
                    </div>
                </div>
            </div>

            <!-- Cast and Crew Section -->
            <div class="cast-section">
                <h2 class="section-title">Cast & Crew</h2>
                <div class="cast-grid">
                    <div class="cast-card">
                        <img src="/api/placeholder/185/278" alt="Emily Blunt" class="cast-img">
                        <div class="cast-info">
                            <div class="cast-name">Emily Blunt</div>
                            <div class="cast-role">Sarah Mitchell</div>
                        </div>
                    </div>
                    <div class="cast-card">
                        <img src="/api/placeholder/185/278" alt="John Cho" class="cast-img">
                        <div class="cast-info">
                            <div class="cast-name">John Cho</div>
                            <div class="cast-role">David Kim</div>
                        </div>
                    </div>
                    <div class="cast-card">
                        <img src="/api/placeholder/185/278" alt="Lupita Nyong'o" class="cast-img">
                        <div class="cast-info">
                            <div class="cast-name">Lupita Nyong'o</div>
                            <div class="cast-role">Zoe Carter</div>
                        </div>
                    </div>
                    <div class="cast-card">
                        <img src="/api/placeholder/185/278" alt="Daniel Kaluuya" class="cast-img">
                        <div class="cast-info">
                            <div class="cast-name">Daniel Kaluuya</div>
                            <div class="cast-role">Marcus Reynolds</div>
                        </div>
                    </div>
                    <div class="cast-card">
                        <img src="/api/placeholder/185/278" alt="Florence Pugh" class="cast-img">
                        <div class="cast-info">
                            <div class="cast-name">Florence Pugh</div>
                            <div class="cast-role">Lily Blake</div>
                        </div>
                    </div>
                    <div class="cast-card">
                        <img src="/api/placeholder/185/278" alt="Emma Rodriguez" class="cast-img">
                        <div class="cast-info">
                            <div class="cast-name">Emma Rodriguez</div>
                            <div class="cast-role">Director</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Similar Movies Section -->
            <div class="similar-movies">
                <h2 class="section-title">Similar Movies You May Like</h2>
                <div class="similar-grid">
                    <a href="bone-cold-ghost-detail.html" style="text-decoration: none;">
                        <div class="movie-card">
                            <img src="https://cdn.kinocheck.com/i/6o6cofvxdo.jpg" alt="Bone Cold: Ghost">
                            <div class="overlay">
                                <div class="play-btn">
                                    <div class="triangle"></div>
                                </div>
                            </div>
                            <div class="movie-info">
                                <h3 class="movie-title">Bone Cold: Ghost</h3>
                                <div class="movie-meta">
                                    <span>Action, Thriller, Horror • 2025</span>
                                    <div class="rating">
                                        <i>★</i> 9.2
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="#" style="text-decoration: none;">
                        <div class="movie-card">
                            <img src="/api/placeholder/236/354" alt="The Cabin in the Woods">
                            <div class="overlay">
                                <div class="play-btn">
                                    <div class="triangle"></div>
                                </div>
                            </div>
                            <div class="movie-info">
                                <h3 class="movie-title">The Cabin in the Woods</h3>
                                <div class="movie-meta">
                                    <span>Horror, Thriller • 2011</span>
                                    <div class="rating">
                                        <i>★</i> 7.0
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="#" style="text-decoration: none;">
                        <div class="movie-card">
                            <img src="/api/placeholder/236/354" alt="Get Out">
                            <div class="overlay">
                                <div class="play-btn">
                                    <div class="triangle"></div>
                                </div>
                            </div>
                            <div class="movie-info">
                                <h3 class="movie-title">Get Out</h3>
                                <div class="movie-meta">
                                    <span>Horror, Thriller • 2017</span>
                                    <div class="rating">
                                        <i>★</i> 7.8
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="#" style="text-decoration: none;">
                        <div class="movie-card">
                            <img src="/api/placeholder/236/354" alt="A Quiet Place">
                            <div class="overlay">
                                <div class="play-btn">
                                    <div class="triangle"></div>
                                </div>
                            </div>
                            <div class="movie-info">
                                <h3 class="movie-title">A Quiet Place</h3>
                                <div class="movie-meta">
                                    <span>Horror, Sci-Fi • 2018</span>
                                    <div class="rating">
                                        <i>★</i> 7.5
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Video Player Modal -->
    <div class="video-modal" id="videoModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Titanic</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="video-container">
                <!-- Video player/iframe will be inserted here by JavaScript -->
                <div class="video-placeholder">
                    <div class="play-button">▶</div>
                    <p>Click to watch the movie</p>
                </div>
            </div>
            <div class="player-controls">
                <div class="language-selection">
                    <span>Language: </span>
                    <button class="language-btn active" id="modalLangEnglish" title="English Audio">
                        <img src="https://flagcdn.com/24x18/us.png" alt="English" class="flag-icon">
                    </button>
                    <button class="language-btn" id="modalLangGerman" title="German Audio">
                        <img src="https://flagcdn.com/24x18/de.png" alt="German" class="flag-icon">
                    </button>
                </div>
                <div class="player-info">
                    <span>Source: voe.sx</span>
                    <select class="quality-selector" id="modalQualitySelector">
                        <option value="auto">Auto Quality</option>
                        <option value="1080p">1080p</option>
                        <option value="720p">720p</option>
                        <option value="480p">480p</option>
                        <option value="360p">360p</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>StreamHub</h3>
                <p>The best streaming platform for movies and TV shows. Watch anywhere, anytime.</p>
                <div class="social-icons">
                    <a href="#"><span>f</span></a>
                    <a href="#"><span>t</span></a>
                    <a href="#"><span>in</span></a>
                    <a href="#"><span>ig</span></a>
                </div>
            </div>
            
            <div class="footer-column">
                <h3>Navigation</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="movies.html">Movies</a></li>
                    <li><a href="tvshows.html">TV Shows</a></li>
                    <li><a href="arabic-series.html">Arabic Series</a></li>
                    <li><a href="#">Arabic Movies</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Categories</h3>
                <ul>
                    <li><a href="#" data-filter="action">Action</a></li>
                    <li><a href="#" data-filter="comedy">Comedy</a></li>
                    <li><a href="#" data-filter="drama">Drama</a></li>
                    <li><a href="#" data-filter="sci-fi">Sci-Fi</a></li>
                    <li><a href="#" data-filter="horror">Horror</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Support</h3>
                <ul>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Help Center</a></li>
                    <li><a href="#">Account</a></li>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                </ul>
            </div>
        </div>
        
        <div class="copyright">
            <p>&copy; 2025 StreamHub. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Movie video URLs in different languages
            const movieVideos = {
                "en": "https://voe.sx/e/kjtgkbvbeqkw", // English version
                "de": "" // German version (placeholder for future)
            };
            
            // Trailer URL
            const trailerUrl = "https://www.youtube.com/embed/dQw4w9WgXcQ"; // Placeholder trailer
            
            // Current language setting
            let currentLanguage = "en"; // Default language is English
            
            // Video player related elements
            const videoModal = document.getElementById('videoModal');
            const modalTitle = document.getElementById('modalTitle');
            const videoContainer = document.querySelector('.video-container');
            const closeModal = document.querySelector('.close-modal');
            const playMovieBtn = document.getElementById('playMovie');
            const movieIframe = document.getElementById('movieIframe');
            
            // Smooth scroll to player when Watch Now is clicked
            playMovieBtn.addEventListener('click', function() {
                const playerSection = document.getElementById('player');
                playerSection.scrollIntoView({ behavior: 'smooth' });
                
                // Update iframe source based on language
                updateMovieSource(currentLanguage);
            });
            
            function updateMovieSource(language) {
                const videoSrc = movieVideos[language];
                if (videoSrc) {
                    movieIframe.src = videoSrc;
                } else {
                    // Show placeholder message if source not available
                    movieIframe.src = 'about:blank';
                    // You could show a message here if needed
                }
            }
            
            // Trailer button handler
            document.querySelector('.trailer-btn').addEventListener('click', function() {
                // Set the modal title for trailer
                modalTitle.textContent = 'Titanic - Official Trailer';
                
                // Clear previous content
                videoContainer.innerHTML = '';
                
                // Create and append the iframe for trailer
                const trailerIframe = document.createElement('iframe');
                trailerIframe.src = trailerUrl;
                trailerIframe.width = '100%';
                trailerIframe.height = '100%';
                trailerIframe.style.position = 'absolute';
                trailerIframe.style.top = '0';
                trailerIframe.style.left = '0';
                trailerIframe.frameBorder = '0';
                trailerIframe.allowFullscreen = true;
                
                videoContainer.appendChild(trailerIframe);
                
                // Show the modal
                videoModal.style.display = 'flex';
                console.log('Playing movie trailer');
            });
            
            // Language selection handlers (main page)
            document.getElementById('langEnglish').addEventListener('click', function(e) {
                e.stopPropagation(); // Prevent event bubbling
                currentLanguage = 'en';
                
                // Update active state of language buttons
                document.getElementById('langGerman').classList.remove('active');
                this.classList.add('active');
                
                // Update the iframe source in the main player
                updateMovieSource(currentLanguage);
                
                // Also update modal language buttons
                document.getElementById('modalLangGerman').classList.remove('active');
                document.getElementById('modalLangEnglish').classList.add('active');
            });
            
            document.getElementById('langGerman').addEventListener('click', function(e) {
                e.stopPropagation(); // Prevent event bubbling
                currentLanguage = 'de';
                
                // Update active state of language buttons
                document.getElementById('langEnglish').classList.remove('active');
                this.classList.add('active');
                
                // Update the iframe source in the main player
                updateMovieSource(currentLanguage);
                
                // Also update modal language buttons
                document.getElementById('modalLangEnglish').classList.remove('active');
                document.getElementById('modalLangGerman').classList.add('active');
            });
            
            // Language selection handlers (modal)
            document.getElementById('modalLangEnglish').addEventListener('click', function(e) {
                e.stopPropagation(); // Prevent event bubbling
                currentLanguage = 'en';
                
                // Update active state of language buttons
                document.getElementById('modalLangGerman').classList.remove('active');
                this.classList.add('active');
                
                // Update main page language buttons
                document.getElementById('langGerman').classList.remove('active');
                document.getElementById('langEnglish').classList.add('active');
                
                // If the modal is showing the movie (not trailer), update it
                if (modalTitle.textContent.indexOf('Official Trailer') === -1) {
                    loadAndPlayMovie(currentLanguage);
                }
            });
            
            document.getElementById('modalLangGerman').addEventListener('click', function(e) {
                e.stopPropagation(); // Prevent event bubbling
                currentLanguage = 'de';
                
                // Update active state of language buttons
                document.getElementById('modalLangEnglish').classList.remove('active');
                this.classList.add('active');
                
                // Update main page language buttons
                document.getElementById('langEnglish').classList.remove('active');
                document.getElementById('langGerman').classList.add('active');
                
                // If the modal is showing the movie (not trailer), update it
                if (modalTitle.textContent.indexOf('Official Trailer') === -1) {
                    loadAndPlayMovie(currentLanguage);
                }
            });
            
            // Function to load and play the movie with language selection in the modal
            function loadAndPlayMovie(language) {
                // Set the modal title with language indicator
                const langText = language === 'en' ? 'English' : 'German';
                modalTitle.textContent = `Titanic (${langText})`;
                
                // Get the correct video source based on language
                const videoSrc = movieVideos[language];
                
                // Create video player if video source is available
                if (videoSrc) {
                    // Clear previous content
                    videoContainer.innerHTML = '';
                    
                    // Create and append the iframe
                    const iframe = document.createElement('iframe');
                    iframe.src = videoSrc;
                    iframe.width = '100%';
                    iframe.height = '100%';
                    iframe.style.position = 'absolute';
                    iframe.style.top = '0';
                    iframe.style.left = '0';
                    iframe.frameBorder = '0';
                    iframe.scrolling = 'no';
                    iframe.allowFullscreen = true;
                    
                    videoContainer.appendChild(iframe);
                } else {
                    // Show placeholder message (especially for German version not yet available)
                    videoContainer.innerHTML = `
                        <div class="video-placeholder">
                            <div class="play-button">▶</div>
                            <p>${language === 'de' ? 'German version coming soon' : 'Video not available'}</p>
                        </div>
                    `;
                }
            }
            
            // Close modal when clicking the X
            closeModal.addEventListener('click', () => {
                videoModal.style.display = 'none';
                // Stop any playing videos by clearing the container
                videoContainer.innerHTML = '';
            });
            
            // Close modal when clicking outside the content
            videoModal.addEventListener('click', (e) => {
                if (e.target === videoModal) {
                    videoModal.style.display = 'none';
                    // Stop any playing videos by clearing the container
                    videoContainer.innerHTML = '';
                }
            });
            
            // Star rating functionality
            const stars = document.querySelectorAll('.star-rating .star');
            
            stars.forEach(star => {
                star.addEventListener('click', () => {
                    const rating = parseInt(star.dataset.rating);
                    
                    // Clear all active stars
                    stars.forEach(s => s.classList.remove('active'));
                    
                    // Set active stars up to the clicked one
                    stars.forEach(s => {
                        if (parseInt(s.dataset.rating) <= rating) {
                            s.classList.add('active');
                        }
                    });
                    
                    console.log(`User rated the movie ${rating}/10`);
                });
            });
            
            // Watchlist button functionality
            const watchlistBtn = document.getElementById('watchlistBtn');
            
            watchlistBtn.addEventListener('click', () => {
                // Toggle watchlist status
                const isInWatchlist = watchlistBtn.classList.contains('in-watchlist');
                
                if (!isInWatchlist) {
                    watchlistBtn.innerHTML = '<i>✓</i> In Watchlist';
                    watchlistBtn.classList.add('in-watchlist');
                    watchlistBtn.style.backgroundColor = 'rgba(76, 175, 80, 0.2)';
                    watchlistBtn.style.borderColor = 'rgba(76, 175, 80, 0.5)';
                } else {
                    watchlistBtn.innerHTML = '<i>+</i> Add to Watchlist';
                    watchlistBtn.classList.remove('in-watchlist');
                    watchlistBtn.style.backgroundColor = '';
                    watchlistBtn.style.borderColor = '';
                }
                
                console.log(`User ${!isInWatchlist ? 'added movie to' : 'removed movie from'} watchlist`);
            });
            
            // Quality selector functionality
            const qualitySelectors = document.querySelectorAll('.quality-selector');
            qualitySelectors.forEach(selector => {
                selector.addEventListener('change', function() {
                    const quality = this.value;
                    console.log(`Quality changed to: ${quality}`);
                    // In a real implementation, this would change the video quality
                    
                    // Update the other quality selector to match
                    qualitySelectors.forEach(s => {
                        if (s !== this) {
                            s.value = quality;
                        }
                    });
                });
            });
        });
    </script>
</body>
</html>
